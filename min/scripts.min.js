$(function(){JFCustomWidget.subscribe("ready",function(){var a=JFCustomWidget.getWidgetSetting("jsonSource"),b=JFCustomWidget.getWidgetSetting("defaultOption"),c="true"===JFCustomWidget.getWidgetSetting("multiSelect");if(c||$("#jfDropdown-custom").removeAttr("multiple","multiple"),document.getElementById("jfDropdown-custom").hasAttribute("multiple")?$("#jfDropdown-custom").select2({placeholder:b}):$("#jfDropdown-custom").select2({placeholder:b,allowclear:!0}),!c)if(void 0!==b||null!=b){var d=$("<option></option>").attr("value",b).text(b);$("#jfDropdown-custom").empty().append(d)}else{var d=$("<option></option>").attr("value","null").text("");$("#jfDropdown-custom").empty().append(d)}var e=$.getJSON(a,function(){}).done(function(){var a=[];$.each(e.responseJSON,function(b,c){var d=void 0===c.name?c:c.name;if("string"!=typeof d)return!0;a.push($("<option />").val(d).text(d))}),$("#jfDropdown-custom").append(a)}).fail(function(a,b,c){var d=b+", "+c;console.log("Something wrong!"),console.log("Request Failed: "+d)})})}),$(function(){$("#jfDropdown-custom").change(function(){JFCustomWidget.sendData({value:this.value})})}),$(function(){JFCustomWidget.subscribe("submit",function(){var a={valid:!0,value:$("#jfDropdown-custom").value};JFCustomWidget.sendSubmit(a)})});